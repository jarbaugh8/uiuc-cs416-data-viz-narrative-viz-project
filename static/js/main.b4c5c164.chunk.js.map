{"version":3,"sources":["BarChart.js","hooks/useD3.js","App.js","reportWebVitals.js","index.js"],"names":["BarChart","data","ref","renderChartFn","dependencies","React","useRef","useEffect","d3","current","useD3","svg","margin","x","domain","map","d","date","rangeRound","padding","y1","cases","select","call","g","attr","tickValues","width","filter","v","undefined","tickSizeOuter","style","ticks","remove","append","text","selectAll","join","bandwidth","height","marginRight","marginLeft","className","App","useState","error","setError","isLoaded","setIsLoaded","setData","then","result","toString","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b4c5c164.chunk.js","sourcesContent":["// https://www.pluralsight.com/guides/using-d3.js-inside-a-react-app\n\nimport { useD3 } from './hooks/useD3';\nimport React from 'react';\nimport * as d3 from 'd3';\n\nfunction BarChart({ data }) {\n  const ref = useD3(\n    (svg) => {\n      const height = 500;\n      const width = 500;\n      const margin = { top: 20, right: 30, bottom: 30, left: 40 };\n\n      const x = d3\n        .scaleBand()\n        .domain(data.map((d) => d.date))\n        .rangeRound([margin.left, width - margin.right])\n        .padding(0.1);\n\n      const y1 = d3\n        .scaleLinear()\n        .domain([0, d3.max(data, (d) => d.cases)])\n        .rangeRound([height - margin.bottom, margin.top]);\n\n      const xAxis = (g) =>\n        g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(\n          d3\n            .axisBottom(x)\n            .tickValues(\n              d3\n                .ticks(...d3.extent(x.domain()), width / 40)\n                .filter((v) => x(v) !== undefined)\n            )\n            .tickSizeOuter(0)\n        );\n\n      const y1Axis = (g) =>\n        g\n          .attr(\"transform\", `translate(${margin.left},0)`)\n          .style(\"color\", \"steelblue\")\n          .call(d3.axisLeft(y1).ticks(null, \"s\"))\n          .call((g) => g.select(\".domain\").remove())\n          .call((g) =>\n            g\n              .append(\"text\")\n              .attr(\"x\", -margin.left)\n              .attr(\"y\", 10)\n              .attr(\"fill\", \"currentColor\")\n              .attr(\"text-anchor\", \"start\")\n              .text(data.y1)\n          );\n\n      svg.select(\".x-axis\").call(xAxis);\n      svg.select(\".y-axis\").call(y1Axis);\n\n      svg\n        .select(\".plot-area\")\n        .attr(\"fill\", \"steelblue\")\n        .selectAll(\".bar\")\n        .data(data)\n        .join(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", (d) => x(d.date))\n        .attr(\"width\", x.bandwidth())\n        .attr(\"y\", (d) => y1(d.cases))\n        .attr(\"height\", (d) => y1(0) - y1(d.cases));\n    },\n    [] // TODO: Consider changing, should things need to change over time.\n  );\n\n  return (\n    <svg\n      ref={ref}\n      style={{\n        height: 500,\n        width: \"100%\",\n        marginRight: \"0px\",\n        marginLeft: \"0px\",\n      }}\n    >\n      <g className=\"plot-area\" />\n      <g className=\"x-axis\" />\n      <g className=\"y-axis\" />\n    </svg>\n  );\n}\n\nexport default BarChart;\n","// https://www.pluralsight.com/guides/using-d3.js-inside-a-react-app\nimport React from 'react';\nimport * as d3 from 'd3';\n\nexport const useD3 = (renderChartFn, dependencies) => {\n    const ref = React.useRef();\n\n    React.useEffect(() => {\n        renderChartFn(d3.select(ref.current));\n        return () => {};\n      }, dependencies);\n    return ref;\n}\n","import React, { useState, useEffect } from 'react';\nimport BarChart from './BarChart';\nimport './App.css';\nimport * as d3 from 'd3';\n\n/*\nconst data = [\n  {year: 1980, efficiency: 24.3, sales: 8949000},\n  {year: 1985, efficiency: 27.6, sales: 10979000},\n  {year: 1990, efficiency: 28, sales: 9303000},\n  {year: 1991, efficiency: 28.4, sales: 8185000},\n  {year: 1992, efficiency: 27.9, sales: 8213000},\n  {year: 1993, efficiency: 28.4, sales: 8518000},\n  {year: 1994, efficiency: 28.3, sales: 8991000},\n  {year: 1995, efficiency: 28.6, sales: 8620000},\n  {year: 1996, efficiency: 28.5, sales: 8479000},\n  {year: 1997, efficiency: 28.7, sales: 8217000},\n  {year: 1998, efficiency: 28.8, sales: 8085000},\n  {year: 1999, efficiency: 28.3, sales: 8638000},\n  {year: 2000, efficiency: 28.5, sales: 8778000},\n  {year: 2001, efficiency: 28.8, sales: 8352000},\n  {year: 2002, efficiency: 29, sales: 8042000},\n  {year: 2003, efficiency: 29.5, sales: 7556000},\n  {year: 2004, efficiency: 29.5, sales: 7483000},\n  {year: 2005, efficiency: 30.3, sales: 7660000},\n  {year: 2006, efficiency: 30.1, sales: 7762000},\n  {year: 2007, efficiency: 31.2, sales: 7562000},\n  {year: 2008, efficiency: 31.5, sales: 6769000},\n  {year: 2009, efficiency: 32.9, sales: 5402000},\n  {year: 2010, efficiency: 33.9, sales: 5636000},\n  {year: 2011, efficiency: 33.1, sales: 6093000},\n  {year: 2012, efficiency: 35.3, sales: 7245000},\n  {year: 2013, efficiency: 36.4, sales: 7586000},\n  {year: 2014, efficiency: 36.5, sales: 7708000},\n  {year: 2015, efficiency: 37.2, sales: 7517000},\n  {year: 2016, efficiency: 37.7, sales: 6873000},\n  {year: 2017, efficiency: 39.4, sales: 6081000},\n]\n*/\n\nfunction App() {\n\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    d3.csv(\"https://github.com/nytimes/covid-19-data/blob/master/us.csv\")\n      .then(\n        (result) => {\n          setIsLoaded(true);\n          setData(result);\n        },\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      )\n  })\n\n  if (!isLoaded) {\n    return (\n      <div>\n        Loading...\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div>\n        { error.toString() }\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <BarChart data={data} />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}